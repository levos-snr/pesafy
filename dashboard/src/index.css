@import url("https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap");
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:where(.dark, .dark *));

/* ── Theme Mapping ─────────────────────────────── */
@theme inline {
  --font-display: "Syne", sans-serif;
  --font-body: "DM Sans", sans-serif;

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);

  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
}

/* ── Light Mode ────────────────────────────────── */
:root {
  --radius: 0.625rem;

  /* Base */
  --background:          #ffffff;
  --foreground:          #0f0f0f;

  /* Card / Popover */
  --card:                #ffffff;
  --card-foreground:     #0f0f0f;
  --popover:             #ffffff;
  --popover-foreground:  #0f0f0f;

  /* Primary — Pesafy Red */
  --primary:             #d81b0d;
  --primary-foreground:  #ffffff;

  /* Secondary — warm amber */
  --secondary:           #fdf1e8;
  --secondary-foreground:#7c3a0c;

  /* Muted */
  --muted:               #f5f5f5;
  --muted-foreground:    #737373;

  /* Accent — soft red tint */
  --accent:              #fff0ef;
  --accent-foreground:   #7f1d1d;

  /* Destructive */
  --destructive:         #e81b0c;
  --destructive-foreground: #ffffff;

  /* Border / Input / Ring */
  --border:              #e8d5d4;
  --input:               #f0e8e7;
  --ring:                #d81b0d;

  /* Charts */
  --chart-1:             #d81b0d;
  --chart-2:             #c2500a;
  --chart-3:             #d46b2a;
  --chart-4:             #e38c55;
  --chart-5:             #f0ae7e;

  /* Sidebar */
  --sidebar:             #fafafa;
  --sidebar-foreground:  #0f0f0f;
  --sidebar-primary:     #d81b0d;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent:      #f5f5f5;
  --sidebar-accent-foreground: #0f0f0f;
  --sidebar-border:      #e8d5d4;
  --sidebar-ring:        #d81b0d;
}

/* ── Dark Mode ─────────────────────────────────── */
.dark {
  /* Base */
  --background:          #111111;
  --foreground:          #f2f2f2;

  /* Card / Popover */
  --card:                #1c1c1c;
  --card-foreground:     #f2f2f2;
  --popover:             #1c1c1c;
  --popover-foreground:  #f2f2f2;

  /* Primary — slightly brighter red for dark bg */
  --primary:             #e8352a;
  --primary-foreground:  #ffffff;

  /* Secondary — muted amber */
  --secondary:           #2a1f18;
  --secondary-foreground:#f0b07a;

  /* Muted */
  --muted:               #272727;
  --muted-foreground:    #a0a0a0;

  /* Accent */
  --accent:              #2a1919;
  --accent-foreground:   #f2a09a;

  /* Destructive */
  --destructive:         #c0392b;
  --destructive-foreground: #ffffff;

  /* Border / Input / Ring */
  --border:              rgba(255, 255, 255, 0.09);
  --input:               rgba(255, 255, 255, 0.12);
  --ring:                #e8352a;

  /* Charts */
  --chart-1:             #e85a50;
  --chart-2:             #e09060;
  --chart-3:             #c0622a;
  --chart-4:             #d47840;
  --chart-5:             #e89e70;

  /* Sidebar */
  --sidebar:             #1c1c1c;
  --sidebar-foreground:  #f2f2f2;
  --sidebar-primary:     #e8352a;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent:      #272727;
  --sidebar-accent-foreground: #f2f2f2;
  --sidebar-border:      rgba(255, 255, 255, 0.09);
  --sidebar-ring:        #e8352a;
}

/* ── Base Layer ────────────────────────────────── */
@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    font-family: "DM Sans", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Smooth theme transitions */
    transition:
      background-color 0.35s cubic-bezier(0.4, 0, 0.2, 1),
      color 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body {
    @apply bg-background text-foreground;
    min-height: 100dvh;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: "Syne", sans-serif;
  }

  * {
    @apply border-border;
  }
}

/* ── Theme Transition ──────────────────────────── */
/* Apply transitions to all elements for smooth dark/light switch */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 0.3s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* But do NOT animate transforms/layout for performance */
.no-theme-transition,
.no-theme-transition * {
  transition: none !important;
}

/* ── Scrollbar ─────────────────────────────────── */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(216, 27, 13, 0.2);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(216, 27, 13, 0.45);
}
.dark ::-webkit-scrollbar-thumb {
  background: rgba(232, 53, 42, 0.25);
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(232, 53, 42, 0.5);
}

/* ── Animations ────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position:  200% 0; }
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
@keyframes themePop {
  0%   { transform: scale(1); }
  50%  { transform: scale(0.92); }
  100% { transform: scale(1); }
}

.animate-fade-up {
  animation: fadeUp 0.45s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.animate-fade-in {
  animation: fadeIn 0.3s ease both;
}

.delay-75  { animation-delay: 75ms; }
.delay-150 { animation-delay: 150ms; }
.delay-225 { animation-delay: 225ms; }
.delay-300 { animation-delay: 300ms; }
.delay-375 { animation-delay: 375ms; }

/* ── Skeleton ──────────────────────────────────── */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--muted) 25%,
    color-mix(in srgb, var(--muted) 70%, var(--border)) 50%,
    var(--muted) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.6s infinite;
  border-radius: 6px;
}

/* ── Spinner ───────────────────────────────────── */
.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.25);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  display: inline-block;
}
.spinner-dark {
  border-color: rgba(216, 27, 13, 0.2);
  border-top-color: #d81b0d;
}

/* ── Input focus ───────────────────────────────── */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 15%, transparent) !important;
}

/* ── Grid bg utility ───────────────────────────── */
.grid-bg {
  background-image:
    linear-gradient(rgba(216, 27, 13, 0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(216, 27, 13, 0.08) 1px, transparent 1px);
  background-size: 48px 48px;
}
.dark .grid-bg {
  background-image:
    linear-gradient(rgba(232, 53, 42, 0.12) 1px, transparent 1px),
    linear-gradient(90deg, rgba(232, 53, 42, 0.12) 1px, transparent 1px);
}

/* ── Responsive utilities ──────────────────────── */
/* Touch-friendly targets (min 44px) */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Fluid text scale */
.text-fluid-sm   { font-size: clamp(0.875rem, 0.8rem + 0.375vw, 1rem); }
.text-fluid-base { font-size: clamp(1rem, 0.9rem + 0.5vw, 1.125rem); }
.text-fluid-lg   { font-size: clamp(1.25rem, 1rem + 1.25vw, 1.5rem); }
.text-fluid-xl   { font-size: clamp(1.5rem, 1.2rem + 1.5vw, 2rem); }
.text-fluid-2xl  { font-size: clamp(1.875rem, 1.5rem + 1.875vw, 2.5rem); }
.text-fluid-3xl  { font-size: clamp(2.25rem, 1.75rem + 2.5vw, 3.5rem); }

/* Safe area for notched devices */
.pb-safe { padding-bottom: env(safe-area-inset-bottom, 0); }
.pt-safe { padding-top: env(safe-area-inset-top, 0); }


/* ═══════════════════════════════════════════════════════════════════════════
   react-phone-number-input — Theme integration
   Add this block at the END of your index.css
   ═══════════════════════════════════════════════════════════════════════════

   WHY CSS IS NEEDED:
   The Tailwind [&_...] selectors in phoneInputWrapperClass handle most
   styling, but the native OS <select> dropdown popup cannot be styled
   with CSS at all — EXCEPT for `color-scheme`, which tells the browser
   to render it dark or light. Without this, it always renders white.
   ═══════════════════════════════════════════════════════════════════════════ */

/* ── 1. Force the country <select> popup to match the current theme ── */
/* Light mode: use light color-scheme (white dropdown — correct default) */
.PhoneInputCountrySelect {
  color-scheme: light;
}

/* Dark mode: tell the browser to render the native dropdown dark */
.dark .PhoneInputCountrySelect {
  color-scheme: dark;
}

/* ── 2. Override react-phone-number-input's own stylesheet defaults ── */
/* The library injects its own styles for .PhoneInput, .PhoneInputInput etc.
   These overrides ensure our theme variables win. */

/* Remove the library's hardcoded white/light colors from the flag icon SVG border */
.PhoneInputCountryIcon {
  box-shadow: none !important;
  background-color: transparent !important;
}

/* Remove the library's default focus outline on the internal input
   (our wrapper div provides the focus ring instead) */
.PhoneInputInput {
  border: none !important;
  outline: none !important;
  background: transparent !important;
  box-shadow: none !important;
}




